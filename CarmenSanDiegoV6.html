<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Detective Mundial üïµÔ∏è</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-br from-yellow-100 via-purple-100 to-pink-100 min-h-screen flex items-center justify-center p-4">

  <div class="max-w-3xl w-full bg-white p-6 rounded-xl shadow-xl space-y-6" id="app">
    <div class="flex justify-between items-center">
      <h1 class="text-2xl font-bold text-purple-700">üïµÔ∏è Detective Mundial</h1>
      <button onclick="toggleSound()" id="soundBtn" class="text-sm bg-gray-200 hover:bg-gray-300 px-3 py-1 rounded text-gray-800">üîä Sonido: Activado</button>
    </div>

    <div id="game" class="text-center space-y-4">
      <p class="text-gray-700">Haz clic para comenzar la investigaci√≥n.</p>
      <button onclick="startGame()" id="startBtn" class="bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded">Comenzar Juego</button>
    </div>
  </div>

  <!-- Sonidos -->
  <audio id="correctSound" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_a1e0a27552.mp3?filename=correct-2-46134.mp3" preload="auto"></audio>
  <audio id="wrongSound" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_d0d81c3c8d.mp3?filename=error-126627.mp3" preload="auto"></audio>

  <script>
    const detectiveImg = "https://upload.wikimedia.org/wikipedia/commons/thumb/9/91/Private_detective_icon.png/240px-Private_detective_icon.png";

    const phrases = [
      "Hmm‚Ä¶ ¬°Esto se pone interesante!",
      "Esta pista me huele a trampa‚Ä¶",
      "Sigo el rastro con cuidado...",
      "¬°Esto encaja perfectamente!",
      "Una jugada inteligente... pero no tanto como la m√≠a.",
      "Este caso tiene m√°s capas que una cebolla."
    ];

    const levels = [
      {
        city: "Par√≠s",
        clues: [
          "En esta ciudad se encuentra una de las pinturas m√°s famosas del mundo, protegida por vidrio.",
          "Su torre met√°lica fue originalmente criticada, ahora es un √≠cono mundial.",
          "El r√≠o Sena la atraviesa y el Museo del Louvre es su principal atractivo."
        ],
        options: ["Madrid", "Par√≠s", "Roma"],
        correct: "Par√≠s"
      },
      {
        city: "Tokio",
        clues: [
          "Es una ciudad donde los templos tradicionales se mezclan con edificios futuristas.",
          "El cruce peatonal m√°s transitado del mundo se encuentra en su centro.",
          "Su cocina es famosa, desde sushi hasta ramen, y la cultura del t√© es muy fuerte."
        ],
        options: ["Se√∫l", "Pek√≠n", "Tokio"],
        correct: "Tokio"
      },
      {
        city: "R√≠o de Janeiro",
        clues: [
          "Una figura de brazos abiertos vigila desde lo alto, conocida mundialmente.",
          "El carnaval m√°s famoso del mundo inunda sus calles con m√∫sica y baile.",
          "En la costa, puedes encontrar playas ic√≥nicas como Copacabana y el Pan de Az√∫car."
        ],
        options: ["Buenos Aires", "R√≠o de Janeiro", "Lima"],
        correct: "R√≠o de Janeiro"
      },
      {
        city: "El Cairo",
        clues: [
          "La pir√°mide m√°s grande del mundo se encuentra en esta ciudad, rodeada de misterio.",
          "El r√≠o Nilo atraviesa la ciudad, una de las civilizaciones m√°s antiguas surgi√≥ aqu√≠.",
          "En esta ciudad tambi√©n se encuentra un museo con reliquias de faraones egipcios."
        ],
        options: ["Atenas", "El Cairo", "Estambul"],
        correct: "El Cairo"
      },
      {
        city: "Londres",
        clues: [
          "El famoso Big Ben est√° en esta ciudad, aunque su nombre oficial es Elizabeth Tower.",
          "La reina reside en el Palacio de Buckingham, rodeado de parques hermosos.",
          "La Torre de Londres, que alberga las joyas de la corona, se encuentra aqu√≠."
        ],
        options: ["Londres", "Dubl√≠n", "Edimburgo"],
        correct: "Londres"
      },
      {
        city: "Ciudad de M√©xico",
        clues: [
          "Antes fue Tenochtitl√°n, una antigua ciudad azteca que ha dejado huella en la historia.",
          "El √Ångel de la Independencia y el Z√≥calo son dos de sus lugares m√°s emblem√°ticos.",
          "La ciudad se encuentra sobre un antiguo lago, y su historia se puede ver en muchos museos."
        ],
        options: ["Lima", "Bogot√°", "Ciudad de M√©xico"],
        correct: "Ciudad de M√©xico"
      },
      {
        city: "Roma",
        clues: [
          "La ciudad es conocida como 'La Ciudad Eterna' y tiene una historia de miles de a√±os.",
          "El Coliseo es uno de sus monumentos m√°s emblem√°ticos, testigo de la antigua Roma.",
          "El Vaticano, el centro del catolicismo, est√° enclavado en medio de la ciudad."
        ],
        options: ["Venecia", "Roma", "Mil√°n"],
        correct: "Roma"
      },
      {
        city: "Estambul",
        clues: [
          "Esta ciudad fue la capital de tres grandes imperios: el Romano, el Bizantino y el Otomano.",
          "La Mezquita Azul es uno de sus puntos m√°s visitados, con su arquitectura impresionante.",
          "Se encuentra a caballo entre dos continentes, Asia y Europa, a trav√©s del estrecho del B√≥sforo."
        ],
        options: ["Atenas", "Estambul", "Cairo"],
        correct: "Estambul"
      },
      {
        city: "Venecia",
        clues: [
          "Famosa por sus canales y g√≥ndolas, esta ciudad se construy√≥ sobre el agua.",
          "La Plaza de San Marcos es uno de sus principales puntos tur√≠sticos.",
          "La arquitectura medieval y los puentes de piedra la hacen √∫nica."
        ],
        options: ["Florencia", "Venecia", "Roma"],
        correct: "Venecia"
      },
      {
        city: "Mosc√∫",
        clues: [
          "La Plaza Roja, con la famosa Catedral de San Basilio, es uno de sus puntos m√°s destacados.",
          "Esta ciudad es el centro pol√≠tico y cultural de Rusia, con una historia marcada por el comunismo.",
          "El Kremlin, con sus murallas rojas, es una de las fortalezas m√°s antiguas de Europa."
        ],
        options: ["Mosc√∫", "San Petersburgo", "Kiev"],
        correct: "Mosc√∫"
      }
    ];

    let currentLevel = 0;
    let score = 0;
    let soundEnabled = true;

    function startGame() {
      currentLevel = 0;
      score = 0;
      showLevel();
      document.getElementById("startBtn").style.display = "none"; // Ocultar el bot√≥n de comenzar despu√©s de hacer clic
    }

    function toggleSound() {
      soundEnabled = !soundEnabled;
      document.getElementById('soundBtn').textContent = soundEnabled ? "üîä Sonido: Activado" : "üîá Sonido: Silenciado";
    }

    function showLevel() {
      const level = levels[currentLevel];
      const detectivePhrase = phrases[Math.floor(Math.random() * phrases.length)];
      const game = document.getElementById("game");

      game.innerHTML = `
        <div class="flex items-center gap-4 text-left">
          <img src="${detectiveImg}" alt="Detective" class="w-20 h-20">
          <p class="text-purple-700 font-semibold text-lg italic">"${detectivePhrase}"</p>
        </div>
        <h2 class="text-xl font-bold text-purple-600 mt-2">üïµÔ∏è Robo en curso...</h2>
        <ul class="text-left list-disc list-inside mt-2 text-gray-800">
          ${level.clues.map(clue => `<li>${clue}</li>`).join('')}
        </ul>
        <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 mt-6">
          ${level.options.map(option => `
            <button onclick="checkAnswer('${option}')" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded">${option}</button>
          `).join('')}
        </div>
        <p class="mt-4 text-sm text-gray-600">Progreso: ${currentLevel + 1} / ${levels.length} | Aciertos: ${score}</p>
      `;
    }

    function checkAnswer(selected) {
      const level = levels[currentLevel];
      const game = document.getElementById("game");

      if (selected === level.correct) {
        if (soundEnabled) document.getElementById("correctSound").play();
        score++;
        game.innerHTML = `
          <h2 class="text-2xl font-bold text-green-600">‚úÖ ¬°Correcto!</h2>
          <p class="text-gray-700">Has encontrado la ciudad: <strong>${level.city}</strong>.</p>
          <button onclick="nextLevel()" class="mt-4 bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded">Siguiente nivel</button>
        `;
      } else {
        if (soundEnabled) document.getElementById("wrongSound").play();
        game.innerHTML = `
          <h2 class="text-2xl font-bold text-red-600">‚ùå Incorrecto</h2>
          <p class="text-gray-700">La ciudad correcta era: <strong>${level.correct}</strong>.</p>
          <button onclick="retryLevel()" class="mt-4 bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded">Intentar de nuevo</button>
        `;
      }
    }

    function nextLevel() {
      currentLevel++;
      if (currentLevel < levels.length) {
        showLevel();
      } else {
        showEnd();
      }
    }

    function retryLevel() {
      showLevel();
    }

    function showEnd() {
      const game = document.getElementById("game");
      game.innerHTML = `
        <h2 class="text-2xl font-bold text-purple-700">üéâ ¬°Investigaci√≥n completada!</h2>
        <p class="text-gray-700 mt-2">Tu puntuaci√≥n final es: <strong>${score}</strong> de ${levels.length} aciertos.</p>
        <img src="${detectiveImg}" class="w-24 mx-auto my-4" alt="Detective final">
        <p class="text-gray-600 italic">"Buen trabajo, agente. El mundo est√° a salvo una vez m√°s."</p>
        <button onclick="startGame()" class="mt-6 bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded">Reiniciar Juego</button>
      `;
    }
  </script>

</body>
</html>
